<!DOCTYPE html>
<html>
  <head>
    <title>Migration Map</title>
    <meta charset="utf-8" />
    <!-- Various stylesheets -->
    <link
      rel="stylesheet"
      href="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://rawgit.com/Caged/d3-tip/master/examples/example-styles.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />
    <style type="text/css">
      .leaflet-container {
        background-color: #c5e8ff;
      }
    </style>
    <link rel="stylesheet" href="../styles/map.css" />
  </head>
  <body>
    <!-- jQuery & Bootstrap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- Sweetalert 2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

    <!-- D3 -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.min.js"></script>
    <script src="https://unpkg.com/d3-require@0.4.5/build/d3-require.js"></script>
    <script src="https://unpkg.com/d3-let@0.3.2/build/d3-let.js"></script>
    <script src="https://unpkg.com/d3-view@0.9.3/build/d3-view.js"></script>
    <style>
      .view .done {
          text-decoration: line-through;
          color: #b7b7b7;
      }
      .info {
          padding: .75rem 2rem;
      }
      .todo-container {
          max-width: 900px;
      }
    </style>
    
    <div>
      <div class="container">
        <h1 class="container-content" id="title">Migrations between 2010 and 2015</h1>
      </div>
      <div class="svg-container" style="width:65%; float:left; height:100%">
        <svg id="my_dataviz"></svg>
      </div>
      <div style="width:15% ; float:right; margin-top:10%; margin-right:10%">
        <input type="range" value="2015" min="1995" max="2015" step="5" class="dates" name="dates"
        onchange="changeDate(value)">
      <div style="padding: 1em; text-align:center;">
        <b style="color: white; float: right;">
          "Color blindness mode"
        </b> <br/>
        <form style="float: right;" action="">
          <input type="button" id="1" value="OFF" style="color:blue" onclick="toggle(this);">
        </form>
      </div>
      <div style="width: 35%; float:right; margin-top:10%; margin-bottom:10%">
        <img style="object-position: bottom;" id="my_scale" src="../../data/img/red_to_green_scale.jpeg" alt="Echelle des couleurs">
      </div>
      
    </div>
    <script src="../script/scriptSVG.js"></script>
    <script>
      function changeDate(date){
        document.getElementById("title").innerHTML = "Migrations between " + (date-5) + " and " + date;
        main_draw(date);
      }
      function onResize() {
        let width = window.innerWidth;
        let canva = document.getElementById('my_dataviz');
        canva.setAttribute('width', width);
        canva.setAttribute('height', width / 800 * 500);
        main_draw();
      };
      window.addEventListener('resize', onResize);
      onResize();
    </script>
  </div>
  <script src="../script/scriptModal.js"></script>
  </body>
  <footer>
    <div id="source">
      Sources:
      <ul>
        <li>
          <a id="source-link"
          href="https://www.un.org/en/development/desa/population/migration/data/estimates2/estimates15.asp"
          >U.N. 2015 Migration data</a>
        </li>
        <li>
          <a id="source-link"
          href="https://data.worldbank.org/indicator/SP.POP.TOTL"
          >World Bank population data</a>
        </li>
      </ul>
    </div>
  </footer>
</html>